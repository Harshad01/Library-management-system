/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Library.Management.System;

import javax.swing.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.PreparedStatement;
import java.util.Random;

/**
 *
 * @author harsh
 */
public class AddStudent extends javax.swing.JFrame implements ActionListener {

    /**
     * Creates new form AddStudent
     */
    public AddStudent() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">
    private void initComponents() {

        AddStudent_panel = new javax.swing.JPanel();
        StudentID_label = new javax.swing.JLabel();
        StudentID_tf = new javax.swing.JTextField();
        Name_label = new javax.swing.JLabel();
        Name_tf = new javax.swing.JTextField();
        FatherName_label = new javax.swing.JLabel();
        FatherName_tf = new javax.swing.JTextField();
        Course_label = new javax.swing.JLabel();
        Course_Jcombo = new javax.swing.JComboBox<>();
        Branch_label = new javax.swing.JLabel();
        Branch_Jcombo = new javax.swing.JComboBox<>();
        Year_label = new javax.swing.JLabel();
        Year_Jcombo = new javax.swing.JComboBox<>();
        Semester_label = new javax.swing.JLabel();
        Semester_Jcombo = new javax.swing.JComboBox<>();
        Add_btn = new javax.swing.JButton();
        Back_btn = new javax.swing.JButton();
        AddStudent_label = new javax.swing.JLabel();
        BackgroundImage = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setPreferredSize(new java.awt.Dimension(540, 620));
        getContentPane().setLayout(null);

        AddStudent_panel.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0), 2));
        AddStudent_panel.setOpaque(false);
        AddStudent_panel.setLayout(null);

        StudentID_label.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        StudentID_label.setText("Student_ID:-");
        AddStudent_panel.add(StudentID_label);
        StudentID_label.setBounds(26, 59, 81, 20);

        StudentID_tf.setEditable(false);
        StudentID_tf.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        StudentID_tf.setPreferredSize(new java.awt.Dimension(71, 28));
        AddStudent_panel.add(StudentID_tf);
        StudentID_tf.setBounds(136, 55, 232, 28);

        Name_label.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Name_label.setText("Name:-");
        AddStudent_panel.add(Name_label);
        Name_label.setBounds(26, 105, 50, 20);

        Name_tf.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        Name_tf.setPreferredSize(new java.awt.Dimension(71, 28));
        AddStudent_panel.add(Name_tf);
        Name_tf.setBounds(136, 101, 232, 28);

        FatherName_label.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        FatherName_label.setText("Father's Name:-");
        AddStudent_panel.add(FatherName_label);
        FatherName_label.setBounds(26, 151, 106, 20);

        FatherName_tf.setFont(new java.awt.Font("Segoe UI", 0, 14)); // NOI18N
        FatherName_tf.setPreferredSize(new java.awt.Dimension(7, 28));
        AddStudent_panel.add(FatherName_tf);
        FatherName_tf.setBounds(136, 147, 232, 28);

        Course_label.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Course_label.setText("Course:-");
        AddStudent_panel.add(Course_label);
        Course_label.setBounds(26, 197, 56, 20);

        Course_Jcombo.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Course_Jcombo.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "B.E", "B.Tech", "M.Tech", "MBA", "BBA", "BCA", "B.Sc", "M.Sc", "B.Com", "M.Com" }));
        AddStudent_panel.add(Course_Jcombo);
        Course_Jcombo.setBounds(136, 193, 111, 28);

        Branch_label.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Branch_label.setText("Branch:-");
        AddStudent_panel.add(Branch_label);
        Branch_label.setBounds(26, 243, 56, 20);

        Branch_Jcombo.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Branch_Jcombo.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Mechanical", "CSE", "IT", "Civil", "Automobile", "EEE", "Other" }));
        AddStudent_panel.add(Branch_Jcombo);
        Branch_Jcombo.setBounds(136, 239, 111, 28);

        Year_label.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Year_label.setText("Year:-");
        AddStudent_panel.add(Year_label);
        Year_label.setBounds(26, 293, 41, 20);

        Year_Jcombo.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Year_Jcombo.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "First", "Second", "Third", "Four" }));
        AddStudent_panel.add(Year_Jcombo);
        Year_Jcombo.setBounds(136, 285, 111, 28);

        Semester_label.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Semester_label.setText("Semester:-");
        AddStudent_panel.add(Semester_label);
        Semester_label.setBounds(26, 335, 72, 20);

        Semester_Jcombo.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Semester_Jcombo.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "1st", "2nd", "3rd", "4th", "5th", "6th", "7th", "8th" }));
        AddStudent_panel.add(Semester_Jcombo);
        Semester_Jcombo.setBounds(136, 331, 111, 28);

        Add_btn.setBackground(new java.awt.Color(102, 255, 204));
        Add_btn.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Add_btn.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Library/Management/System/Icons/icons8_add_30px.png"))); // NOI18N
        Add_btn.setText("Add");
        Add_btn.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        Add_btn.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        Add_btn.addActionListener(this);
        AddStudent_panel.add(Add_btn);
        Add_btn.setBounds(80, 380, 100, 40);

        Back_btn.setBackground(new java.awt.Color(102, 255, 204));
        Back_btn.setFont(new java.awt.Font("Segoe UI", 1, 14)); // NOI18N
        Back_btn.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Library/Management/System/Icons/icons8_left_3_30px.png"))); // NOI18N
        Back_btn.setText("Back");
        Back_btn.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        Back_btn.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        Back_btn.addActionListener(this);
        AddStudent_panel.add(Back_btn);
        Back_btn.setBounds(200, 380, 100, 40);

        getContentPane().add(AddStudent_panel);
        AddStudent_panel.setBounds(80, 90, 380, 450);

        AddStudent_label.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        AddStudent_label.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Library/Management/System/Icons/icons8_add_administrator_60px.png"))); // NOI18N
        AddStudent_label.setText("Add Student");
        getContentPane().add(AddStudent_label);
        AddStudent_label.setBounds(140, 20, 230, 60);

        BackgroundImage.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Library/Management/System/Icons/Summer Dog.jpg"))); // NOI18N
        getContentPane().add(BackgroundImage);
        BackgroundImage.setBounds(0, 0, 530, 590);

        pack();
        random();
        setLocationRelativeTo(null);
    }// </editor-fold>

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(AddStudent.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(AddStudent.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(AddStudent.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(AddStudent.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new AddStudent().setVisible(true);
            }
        });
    }

    public void random() {
        Random rd = new Random();
        StudentID_tf.setText("" + rd.nextInt(10000 + 1));
    }

    public void actionPerformed(ActionEvent ae){
        try{

            if(ae.getSource() == Add_btn){
                try{
                    conn con = new conn();
                    String sql = "insert into student(student_id, name, father, course, branch, year, semester) values(?, ?, ?, ?, ?, ?, ?)";
                    PreparedStatement st = con.c.prepareStatement(sql);
                    st.setString(1, StudentID_tf.getText());
                    st.setString(2, Name_tf.getText());
                    st.setString(3, FatherName_tf.getText());
                    st.setString(4, (String) Course_Jcombo.getSelectedItem());
                    st.setString(5, (String) Branch_Jcombo.getSelectedItem());
                    st.setString(6, (String) Year_Jcombo.getSelectedItem());
                    st.setString(7, (String) Semester_Jcombo.getSelectedItem());

                    int i = st.executeUpdate();
                    if (i > 0){
                        JOptionPane.showMessageDialog(null, "Successfully Added");
                        this.setVisible(false);
                        new Home().setVisible(true);
                    }
                    else
                        JOptionPane.showMessageDialog(null, "error");
                }catch(Exception e){
                    e.printStackTrace();
                }
            }

            if(ae.getSource() == Back_btn){
                this.setVisible(false);
                new Home().setVisible(true);
            }
        }catch(Exception e){

        }
    }



    // Variables declaration - do not modify
    private javax.swing.JLabel AddStudent_label;
    private javax.swing.JPanel AddStudent_panel;
    private javax.swing.JButton Add_btn;
    private javax.swing.JButton Back_btn;
    private javax.swing.JLabel BackgroundImage;
    private javax.swing.JComboBox<String> Branch_Jcombo;
    private javax.swing.JLabel Branch_label;
    private javax.swing.JComboBox<String> Course_Jcombo;
    private javax.swing.JLabel Course_label;
    private javax.swing.JLabel FatherName_label;
    private javax.swing.JTextField FatherName_tf;
    private javax.swing.JLabel Name_label;
    private javax.swing.JTextField Name_tf;
    private javax.swing.JComboBox<String> Semester_Jcombo;
    private javax.swing.JLabel Semester_label;
    private javax.swing.JLabel StudentID_label;
    private javax.swing.JTextField StudentID_tf;
    private javax.swing.JComboBox<String> Year_Jcombo;
    private javax.swing.JLabel Year_label;
    // End of variables declaration
}
